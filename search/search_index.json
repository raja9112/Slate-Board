{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"API Documentation","text":"<p>Use the DigiVault API to access contacts, conversations, group messages, and more and seamlessly integrate your product into the workflows of dozens of devoted DigiVault users.</p> <p>Quickstart Explore SDKs</p>"},{"location":"#getting-started","title":"Getting started","text":"<p>To get started, create a new application in your developer settings, then read about how to make requests for the resources you need to access using our HTTP APIs or dedicated client SDKs. When your integration is ready to go live, publish it to our integrations directory to reach the DigiVault community.</p> <p>Get your API key</p>"},{"location":"#guides","title":"Guides","text":"<ul> <li> <p> Authentication</p> <p>Learn how to authenticate your API requests.</p> <p>Read more \u2192</p> </li> <li> <p> Pagination</p> <p>Understand how to work with paginated responses.</p> <p>Read more \u2192</p> </li> <li> <p> Errors</p> <p>Read about the different types of errors returned by the API.</p> <p>Read more \u2192</p> </li> <li> <p> Webhooks</p> <p>Learn how to programmatically configure webhooks for your app.</p> <p>Read more \u2192</p> </li> </ul>"},{"location":"#resources","title":"Resources","text":"<ul> <li> <p> Contacts</p> <p>Learn about the contact model and how to create, retrieve, update, delete, and list contacts.</p> <p>Explore \u2192</p> </li> <li> <p> Conversations</p> <p>Learn about the conversation model and how to create, retrieve, update, delete, and list conversations.</p> <p>Explore \u2192</p> </li> <li> <p> Messages</p> <p>Learn about the message model and how to create, retrieve, update, delete, and list messages.</p> <p>Explore \u2192</p> </li> <li> <p> Groups</p> <p>Learn about the group model and how to create, retrieve, update, delete, and list groups.</p> <p>Explore \u2192</p> </li> </ul>"},{"location":"attachments/","title":"Attachments","text":"<p>Attachments are how you share files in DigiVault \u2014 they can be anything from documents to images and videos. On this page, we'll dive into the different attachment endpoints you can use to manage attachments programmatically.</p> <p>Coming Soon</p> <p>This page is being updated with comprehensive API documentation. Attachments can be uploaded, retrieved, and deleted.</p>"},{"location":"attachments/#the-attachment-model","title":"The attachment model","text":"<p>The attachment model contains information about files attached to messages.</p>"},{"location":"attachments/#properties","title":"Properties","text":"Property Type Description <code>id</code> string Unique identifier for the attachment <code>message_id</code> string The message this attachment belongs to <code>filename</code> string The original filename <code>file_type</code> string The MIME type of the file <code>file_size</code> integer The size of the file in bytes <code>url</code> string The URL to download the attachment <code>created_at</code> integer Timestamp of when the attachment was created"},{"location":"attachments/#list-all-attachments","title":"List all attachments","text":"<p>GET <code>/v1/attachments</code></p>"},{"location":"attachments/#create-an-attachment","title":"Create an attachment","text":"<p>POST <code>/v1/attachments</code></p>"},{"location":"attachments/#retrieve-an-attachment","title":"Retrieve an attachment","text":"<p>GET <code>/v1/attachments/:id</code></p>"},{"location":"attachments/#update-an-attachment","title":"Update an attachment","text":"<p>PUT <code>/v1/attachments/:id</code></p>"},{"location":"attachments/#delete-an-attachment","title":"Delete an attachment","text":"<p>DELETE <code>/v1/attachments/:id</code></p>"},{"location":"authentication/","title":"Authentication","text":"<p>You'll need to authenticate your requests to access any of the endpoints in the DigiVault API. In this guide, we'll look at how authentication works. DigiVault offers two ways to authenticate your API requests: Basic authentication and OAuth2 with a token \u2014 OAuth2 is the recommended way.</p>"},{"location":"authentication/#basic-authentication","title":"Basic authentication","text":"<p>With basic authentication, you use your username and password to authenticate your HTTP requests. Unless you have a very good reason, you probably shouldn't use basic auth. Here's how to authenticate using cURL:</p> Example request with basic auth<pre><code>curl https://api.digivault.com/v1/conversations \\\n  -u username:password\n</code></pre> <p>Security Notice</p> <p>Please don't commit your DigiVault password to GitHub!</p>"},{"location":"authentication/#o-auth2-with-bearer-token","title":"OAuth2 with bearer token","text":"<p>The recommended way to authenticate with the DigiVault API is by using OAuth2. When establishing a connection using OAuth2, you will need your access token \u2014 you will find it in the DigiVault dashboard under API settings. Here's how to add the token to the request header using cURL:</p> Example request with bearer token<pre><code>curl https://api.digivault.com/v1/conversations \\\n  -H \"Authorization: Bearer {token}\"\n</code></pre> <p>Token Security</p> <p>Always keep your token safe and reset it if you suspect it has been compromised.</p>"},{"location":"authentication/#using-an-sdk","title":"Using an SDK","text":"<p>If you use one of our official SDKs, you won't have to worry about any of the above \u2014 fetch your access token from the DigiVault dashboard under API settings, and the client library will take care of the rest. All the client libraries use OAuth2 behind the scenes.</p> <p>Check out our list of first-party SDKs</p>"},{"location":"boost_transactions/","title":"Boost Transactions","text":"<p>Based on the Fireblocks \u201cBoost Transactions\u201d guidance (reference).</p>"},{"location":"boost_transactions/#overview","title":"Overview","text":"<p>Child Pays For Parent (CPFP) lets you speed up a stuck UTXO transaction by sending a child transaction with a higher fee that spends one of the parent\u2019s outputs.</p> <p>Prerequisites - Parent tx not older than 10 days and visible in mempool. - Parent is marked Completed in Fireblocks (unless you spend its change output). - You know at least one output (txHash + index) from the parent to spend in the child.</p> <p>When to use CPFP vs RBF - CPFP: pay a new high fee on a child that spends the parent\u2019s output. - RBF (EVM): replace pending tx with higher fee instead.</p>"},{"location":"boost_transactions/#steps-to-boost-cpfp","title":"Steps to boost (CPFP)","text":"<ol> <li>Confirm parent tx age &lt; 10 days; switch to Completed if needed.</li> <li>Pick at least one parent output (txHash/index) to use as child input.</li> <li>Set a high custom fee (sat/byte) for the child.</li> <li>Build the child transaction:</li> <li><code>source</code>: the destination of the stuck parent (or any destination you choose).</li> <li><code>destination</code>: can be the same vault or another destination.</li> <li><code>amount</code>: sum (or less) of the selected parent outputs.</li> <li><code>fee</code>: custom high value (don\u2019t use <code>feeLevel</code>).</li> <li><code>extraParameters.inputsSelection.inputsToSpend</code>: include the chosen parent outputs.</li> <li>Submit the child transaction.</li> </ol>"},{"location":"boost_transactions/#cpfp-child-pays-for-parent-for-btc","title":"CPFP (Child Pays For Parent for BTC)","text":"<ul> <li>Call Get UTXO unspent inputs information to find the stuck parent\u2019s unspent outputs. Copy the <code>txHash</code> for any <code>Pending</code> inputs you want to spend.</li> <li>Create the CPFP transaction using the destination vault of the stuck parent as the <code>source</code> (<code>source.type</code>/<code>source.id</code>) and set <code>assetId</code>/<code>amount</code>.</li> <li>Use <code>fee</code> (custom, high) instead of <code>feeLevel</code>; if needed, call Estimate transaction fee to size the fee to cover both child and parent.</li> <li>In <code>extraParameters.inputsSelection.inputsToSpend</code>, include at least one parent output (<code>txHash</code>, <code>index</code>) to spend.</li> <li>Submit for approval and signing.</li> </ul>"},{"location":"boost_transactions/#important-notes","title":"Important notes","text":"<ul> <li>Parent must be newer than 10 days; otherwise contact Support.</li> <li>Parent should be marked Completed (unless you spend its change UTXO).</li> <li>If the stuck tx is older than 10 days or not Completed, contact Fireblocks Support.</li> </ul>"},{"location":"boost_transactions/#how-to-switch-the-transaction-to-completed-status","title":"How to switch the transaction to \u201cCompleted\u201d status","text":"<ul> <li>In Console: mark the transaction Completed, or</li> <li>API: set confirmation threshold to zero. If not switched, once the parent leaves the mempool the CPFP will fail.</li> </ul>"},{"location":"boost_transactions/#constructing-the-cpfp-transaction","title":"Constructing the CPFP transaction","text":"<ul> <li><code>Source</code>: the destination of the stuck transaction.</li> <li><code>Destination</code>: same vault or any destination you prefer.</li> <li><code>Amount</code>: up to the sum of selected parent outputs.</li> <li><code>FeeLevel</code>: do not use; set a high custom <code>fee</code>.</li> <li><code>CustomFee</code>: high enough to be attractive; use a CPFP calculator if needed.</li> <li><code>ExtraParams</code>: specify <code>inputsSelection.inputsToSpend</code> with the parent outputs (at least one).</li> </ul>"},{"location":"boost_transactions/#important-notes_1","title":"Important notes","text":"<ol> <li>Parent older than 10 days \u2192 contact Support.</li> <li>If parent not Completed, set confirmation threshold to zero or spend change output.</li> <li>If parent not in mempool and source is yours, consider Transaction Replacement (RBF).</li> </ol>"},{"location":"boost_transactions/#example","title":"Example","text":"TypeScript (ts-sdk)cURLJavaScript (fireblocks-sdk-js)Python (fireblocks-sdk-py) <pre><code>let txPayload = {\n  assetId: \"BTC_TEST\",\n  amount: \"0.001\",\n  fee: \"1000\", // sat/byte\n  source: { type: TransferPeerPathType.VaultAccount, id: \"0\" },\n  destination: { type: TransferPeerPathType.VaultAccount, id: \"1\" },\n  extraParameters: {\n    inputsSelection: {\n      inputsToSpend: [\n        { txHash: \"24f769af0c2b67965ae4b95583c049e0a8ba08f1c142676c9fc9fcaac5ad12a3\", index: 0 },\n      ],\n    },\n  },\n  note: \"Your CPFP transaction!\",\n};\n\nconst createTransaction = async (payload: TransactionRequest) =&gt; {\n  try {\n    const result = await fireblocks.transactions.createTransaction({\n      transactionRequest: payload,\n    });\n    console.log(JSON.stringify(result.data, null, 2));\n    return result.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\ncreateTransaction(txPayload);\n</code></pre> <pre><code>curl -X POST https://api.fireblocks.io/v1/transactions \\\n  -H \"X-API-Key: &lt;API_KEY&gt;\" \\\n  -H \"Authorization: Bearer &lt;JWT&gt;\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"assetId\": \"BTC_TEST\",\n    \"amount\": \"0.001\",\n    \"fee\": \"1000\",\n    \"source\": { \"type\": \"VAULT_ACCOUNT\", \"id\": \"0\" },\n    \"destination\": { \"type\": \"VAULT_ACCOUNT\", \"id\": \"1\" },\n    \"extraParameters\": {\n      \"inputsSelection\": {\n        \"inputsToSpend\": [\n          { \"txHash\": \"24f769af0c2b67965ae4b95583c049e0a8ba08f1c142676c9fc9fcaac5ad12a3\", \"index\": 0 }\n        ]\n      }\n    },\n    \"note\": \"Your CPFP transaction!\"\n  }'\n</code></pre> <pre><code>const { FireblocksSDK } = require(\"fireblocks-sdk\");\nconst fs = require(\"fs\");\nconst fb = new FireblocksSDK(fs.readFileSync(\"&lt;PATH_TO_SECRET&gt;\", \"utf8\"), \"&lt;API_KEY&gt;\");\n\n(async () =&gt; {\n  const tx = await fb.createTransaction({\n    assetId: \"BTC_TEST\",\n    amount: \"0.001\",\n    fee: \"1000\",\n    source: { type: \"VAULT_ACCOUNT\", id: \"0\" },\n    destination: { type: \"VAULT_ACCOUNT\", id: \"1\" },\n    extraParameters: {\n      inputsSelection: {\n        inputsToSpend: [\n          {\n            txHash: \"24f769af0c2b67965ae4b95583c049e0a8ba08f1c142676c9fc9fcaac5ad12a3\",\n            index: 0,\n          },\n        ],\n      },\n    },\n    note: \"Your CPFP transaction!\",\n  });\n  console.log(tx);\n})();\n</code></pre> <pre><code>from fireblocks_sdk import FireblocksSDK\nfrom pathlib import Path\n\nfb = FireblocksSDK(Path(\"&lt;PATH_TO_SECRET&gt;\").read_text(), \"&lt;API_KEY&gt;\")\ntx = fb.create_transaction(\n    asset_id=\"BTC_TEST\",\n    amount=\"0.001\",\n    fee=\"1000\",\n    source={\"type\": \"VAULT_ACCOUNT\", \"id\": \"0\"},\n    destination={\"type\": \"VAULT_ACCOUNT\", \"id\": \"1\"},\n    extra_parameters={\n        \"inputsSelection\": {\n            \"inputsToSpend\": [\n                {\n                    \"txHash\": \"24f769af0c2b67965ae4b95583c049e0a8ba08f1c142676c9fc9fcaac5ad12a3\",\n                    \"index\": 0,\n                }\n            ]\n        }\n    },\n    note=\"Your CPFP transaction!\",\n)\nprint(tx)\n</code></pre>"},{"location":"boost_transactions/#summary-checklist","title":"Summary checklist","text":"<ul> <li>Parent tx &lt; 10 days and in mempool.</li> <li>Mark parent Completed (unless using change output).</li> <li>Use custom high <code>fee</code>; avoid <code>feeLevel</code>.</li> <li>Specify parent outputs in <code>extraParameters.inputsSelection.inputsToSpend</code>.</li> </ul>"},{"location":"boost_transactions/#notes","title":"Notes","text":"<ul> <li>If the parent has a change output, you can spend it to boost even if the destination isn\u2019t under your custody.</li> <li>If you use the change output, switching the parent to Completed is not required.</li> <li>If the parent is no longer in the Fireblocks mempool and the source is within your workspace, consider Transaction Replacement (RBF) instead.</li> </ul>"},{"location":"boost_transactions/#diagram","title":"Diagram","text":""},{"location":"contacts/","title":"Contacts","text":"<p>Contacts are at the core of DigiVault \u2014 the API allows you to create, retrieve, update, delete, and list all your contacts.</p>"},{"location":"contacts/#the-contact-model","title":"The contact model","text":"<p>The contact model contains all the information about your contacts, such as their username, avatar, and phone number. It also contains a reference to the conversation between you and the contact and information about when they were last active on DigiVault.</p>"},{"location":"contacts/#properties","title":"Properties","text":"Property Type Description <code>id</code> string Unique identifier for the contact <code>username</code> string The username for the contact <code>phone_number</code> string The phone number for the contact <code>avatar_url</code> string The avatar image URL for the contact <code>display_name</code> string The contact display name in the contact list (name or username) <code>conversation_id</code> string Unique identifier for the conversation associated with the contact <code>last_active_at</code> integer Timestamp of when the contact was last active on the platform <code>created_at</code> integer Timestamp of when the contact was created"},{"location":"contacts/#example-contact-object","title":"Example Contact Object","text":"<pre><code>{\n  \"id\": \"WAz8eIbvDR60rouK\",\n  \"username\": \"FrankMcCallister\",\n  \"phone_number\": \"1-800-759-3000\",\n  \"avatar_url\": \"https://assets.digivault.com/avatars/frank.jpg\",\n  \"display_name\": \"Frank McCallister\",\n  \"conversation_id\": \"xgQQXg3hrtjh7AvZ\",\n  \"last_active_at\": 705103200,\n  \"created_at\": 692233200\n}\n</code></pre>"},{"location":"contacts/#list-all-contacts","title":"List all contacts","text":"<p>GET <code>/v1/contacts</code></p> <p>This endpoint allows you to retrieve a paginated list of all your contacts. By default, a maximum of 10 contacts are shown per page.</p>"},{"location":"contacts/#query-parameters","title":"Query Parameters","text":"Parameter Type Default Description <code>limit</code> integer 10 Limit the number of contacts returned <code>starting_after</code> string - Return contacts after this contact ID <code>ending_before</code> string - Return contacts before this contact ID"},{"location":"contacts/#request-example","title":"Request Example","text":"cURLJavaScriptPythonPHP <pre><code>curl -G https://api.digivault.com/v1/contacts \\\n  -H \"Authorization: Bearer {token}\" \\\n  -d limit=10\n</code></pre> <pre><code>const client = new ApiClient(token);\nconst contacts = await client.contacts.list({ limit: 10 });\n</code></pre> <pre><code>client = ApiClient(token)\ncontacts = client.contacts.list(limit=10)\n</code></pre> <pre><code>$client = new \\DigiVault\\ApiClient($token);\n$contacts = $client-&gt;contacts-&gt;list(['limit' =&gt; 10]);\n</code></pre>"},{"location":"contacts/#response","title":"Response","text":"<pre><code>{\n  \"has_more\": false,\n  \"data\": [\n    {\n      \"id\": \"WAz8eIbvDR60rouK\",\n      \"username\": \"FrankMcCallister\",\n      \"phone_number\": \"1-800-759-3000\",\n      \"avatar_url\": \"https://assets.digivault.com/avatars/frank.jpg\",\n      \"display_name\": \"Frank McCallister\",\n      \"conversation_id\": \"xgQQXg3hrtjh7AvZ\",\n      \"last_active_at\": 705103200,\n      \"created_at\": 692233200\n    },\n    {\n      \"id\": \"hSIhXBhNe8X1d8Et\"\n      // ...\n    }\n  ]\n}\n</code></pre>"},{"location":"contacts/#create-a-contact","title":"Create a contact","text":"<p>POST <code>/v1/contacts</code></p> <p>This endpoint allows you to add a new contact to your contact list in DigiVault.</p>"},{"location":"contacts/#request-body","title":"Request Body","text":"Parameter Type Required Description <code>username</code> string Yes The username for the contact <code>phone_number</code> string Yes The phone number for the contact <code>avatar_url</code> string No The avatar image URL for the contact <code>display_name</code> string No The contact display name"},{"location":"contacts/#request-example_1","title":"Request Example","text":"cURLJavaScriptPythonPHP <pre><code>curl https://api.digivault.com/v1/contacts \\\n  -H \"Authorization: Bearer {token}\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"username\": \"FrankMcCallister\",\n    \"phone_number\": \"1-800-759-3000\",\n    \"avatar_url\": \"https://assets.digivault.com/avatars/frank.jpg\"\n  }'\n</code></pre> <pre><code>const contact = await client.contacts.create({\n  username: 'FrankMcCallister',\n  phone_number: '1-800-759-3000',\n  avatar_url: 'https://assets.digivault.com/avatars/frank.jpg'\n});\n</code></pre> <pre><code>contact = client.contacts.create(\n  username='FrankMcCallister',\n  phone_number='1-800-759-3000',\n  avatar_url='https://assets.digivault.com/avatars/frank.jpg'\n)\n</code></pre> <pre><code>$contact = $client-&gt;contacts-&gt;create([\n  'username' =&gt; 'FrankMcCallister',\n  'phone_number' =&gt; '1-800-759-3000',\n  'avatar_url' =&gt; 'https://assets.digivault.com/avatars/frank.jpg'\n]);\n</code></pre>"},{"location":"contacts/#response_1","title":"Response","text":"<pre><code>{\n  \"id\": \"WAz8eIbvDR60rouK\",\n  \"username\": \"FrankMcCallister\",\n  \"phone_number\": \"1-800-759-3000\",\n  \"avatar_url\": \"https://assets.digivault.com/avatars/frank.jpg\",\n  \"display_name\": null,\n  \"conversation_id\": \"xgQQXg3hrtjh7AvZ\",\n  \"last_active_at\": null,\n  \"created_at\": 692233200\n}\n</code></pre>"},{"location":"contacts/#retrieve-a-contact","title":"Retrieve a contact","text":"<p>GET <code>/v1/contacts/:id</code></p> <p>This endpoint allows you to retrieve a contact by providing their DigiVault id.</p>"},{"location":"contacts/#path-parameters","title":"Path Parameters","text":"Parameter Type Description <code>id</code> string The unique identifier for the contact"},{"location":"contacts/#request-example_2","title":"Request Example","text":"cURLJavaScriptPythonPHP <pre><code>curl https://api.digivault.com/v1/contacts/WAz8eIbvDR60rouK \\\n  -H \"Authorization: Bearer {token}\"\n</code></pre> <pre><code>const contact = await client.contacts.retrieve('WAz8eIbvDR60rouK');\n</code></pre> <pre><code>contact = client.contacts.retrieve('WAz8eIbvDR60rouK')\n</code></pre> <pre><code>$contact = $client-&gt;contacts-&gt;retrieve('WAz8eIbvDR60rouK');\n</code></pre>"},{"location":"contacts/#response_2","title":"Response","text":"<pre><code>{\n  \"id\": \"WAz8eIbvDR60rouK\",\n  \"username\": \"FrankMcCallister\",\n  \"phone_number\": \"1-800-759-3000\",\n  \"avatar_url\": \"https://assets.digivault.com/avatars/frank.jpg\",\n  \"display_name\": \"Frank McCallister\",\n  \"conversation_id\": \"xgQQXg3hrtjh7AvZ\",\n  \"last_active_at\": 705103200,\n  \"created_at\": 692233200\n}\n</code></pre>"},{"location":"contacts/#update-a-contact","title":"Update a contact","text":"<p>PUT <code>/v1/contacts/:id</code></p> <p>This endpoint allows you to perform an update on a contact.</p>"},{"location":"contacts/#path-parameters_1","title":"Path Parameters","text":"Parameter Type Description <code>id</code> string The unique identifier for the contact"},{"location":"contacts/#request-body_1","title":"Request Body","text":"Parameter Type Description <code>username</code> string The username for the contact <code>phone_number</code> string The phone number for the contact <code>avatar_url</code> string The avatar image URL for the contact <code>display_name</code> string The contact display name"},{"location":"contacts/#request-example_3","title":"Request Example","text":"cURLJavaScriptPythonPHP <pre><code>curl -X PUT https://api.digivault.com/v1/contacts/WAz8eIbvDR60rouK \\\n  -H \"Authorization: Bearer {token}\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"display_name\": \"Frank (Work)\"\n  }'\n</code></pre> <pre><code>const contact = await client.contacts.update('WAz8eIbvDR60rouK', {\n  display_name: 'Frank (Work)'\n});\n</code></pre> <pre><code>contact = client.contacts.update('WAz8eIbvDR60rouK', \n  display_name='Frank (Work)'\n)\n</code></pre> <pre><code>$contact = $client-&gt;contacts-&gt;update('WAz8eIbvDR60rouK', [\n  'display_name' =&gt; 'Frank (Work)'\n]);\n</code></pre>"},{"location":"contacts/#response_3","title":"Response","text":"<pre><code>{\n  \"id\": \"WAz8eIbvDR60rouK\",\n  \"username\": \"FrankMcCallister\",\n  \"phone_number\": \"1-800-759-3000\",\n  \"avatar_url\": \"https://assets.digivault.com/avatars/frank.jpg\",\n  \"display_name\": \"Frank (Work)\",\n  \"conversation_id\": \"xgQQXg3hrtjh7AvZ\",\n  \"last_active_at\": 705103200,\n  \"created_at\": 692233200\n}\n</code></pre>"},{"location":"contacts/#delete-a-contact","title":"Delete a contact","text":"<p>DELETE <code>/v1/contacts/:id</code></p> <p>This endpoint allows you to delete contacts from your contact list in DigiVault.</p>"},{"location":"contacts/#path-parameters_2","title":"Path Parameters","text":"Parameter Type Description <code>id</code> string The unique identifier for the contact"},{"location":"contacts/#request-example_4","title":"Request Example","text":"cURLJavaScriptPythonPHP <pre><code>curl -X DELETE https://api.digivault.com/v1/contacts/WAz8eIbvDR60rouK \\\n  -H \"Authorization: Bearer {token}\"\n</code></pre> <pre><code>await client.contacts.delete('WAz8eIbvDR60rouK');\n</code></pre> <pre><code>client.contacts.delete('WAz8eIbvDR60rouK')\n</code></pre> <pre><code>$client-&gt;contacts-&gt;delete('WAz8eIbvDR60rouK');\n</code></pre>"},{"location":"contacts/#response_4","title":"Response","text":"<pre><code>{\n  \"id\": \"WAz8eIbvDR60rouK\",\n  \"deleted\": true\n}\n</code></pre>"},{"location":"conversations/","title":"Conversations","text":"<p>Conversations are an essential part of DigiVault \u2014 they are the containers for the messages between you, your contacts, and groups. On this page, we'll dive into the different conversation endpoints you can use to manage conversations programmatically.</p> <p>Coming Soon</p> <p>This page is being updated with comprehensive API documentation. In the meantime, conversations work similarly to contacts - you can create, retrieve, update, delete, and list all your conversations using the same patterns.</p>"},{"location":"conversations/#the-conversation-model","title":"The conversation model","text":"<p>The conversation model contains information about your conversations, including the participants, last message, and read status.</p>"},{"location":"conversations/#properties","title":"Properties","text":"Property Type Description <code>id</code> string Unique identifier for the conversation <code>contact_id</code> string The contact associated with this conversation <code>group_id</code> string The group associated with this conversation (if applicable) <code>last_active_at</code> integer Timestamp of when the conversation was last active <code>last_opened_at</code> integer Timestamp of when you last opened the conversation <code>created_at</code> integer Timestamp of when the conversation was created <code>archived_at</code> integer Timestamp of when the conversation was archived"},{"location":"conversations/#example-conversation-object","title":"Example Conversation Object","text":"<pre><code>{\n  \"id\": \"xgQQXg3hrtjh7AvZ\",\n  \"contact_id\": \"WAz8eIbvDR60rouK\",\n  \"group_id\": null,\n  \"last_active_at\": 705103200,\n  \"last_opened_at\": 705103200,\n  \"created_at\": 692233200,\n  \"archived_at\": null\n}\n</code></pre>"},{"location":"conversations/#list-all-conversations","title":"List all conversations","text":"<p>GET <code>/v1/conversations</code></p> <p>Retrieve a paginated list of all your conversations.</p>"},{"location":"conversations/#create-a-conversation","title":"Create a conversation","text":"<p>POST <code>/v1/conversations</code></p> <p>Create a new conversation with a contact or group.</p>"},{"location":"conversations/#retrieve-a-conversation","title":"Retrieve a conversation","text":"<p>GET <code>/v1/conversations/:id</code></p> <p>Retrieve a specific conversation by ID.</p>"},{"location":"conversations/#update-a-conversation","title":"Update a conversation","text":"<p>PUT <code>/v1/conversations/:id</code></p> <p>Update conversation properties like archived status.</p>"},{"location":"conversations/#delete-a-conversation","title":"Delete a conversation","text":"<p>DELETE <code>/v1/conversations/:id</code></p> <p>Delete a conversation permanently.</p>"},{"location":"digivault_api/","title":"Create Transactions","text":""},{"location":"digivault_api/#overview","title":"Overview","text":"<p>Every transaction on the Fireblocks platform is initiated using the Create a new transaction API endpoint. Its default operation type is <code>TRANSFER</code>. Other valid <code>operation</code> values include:</p> <ul> <li><code>TRANSFER</code>: Move funds between accounts. UTXO chains allow multi-input/output; account-based chains allow one source and one destination.</li> <li><code>CONTRACT_CALL</code>: Call a smart contract method on any EVM chain.</li> <li><code>PROGRAM_CALL</code>: Call Solana programs for Web3 operations.</li> <li><code>TYPED_MESSAGE</code>: Sign an off-chain message (Ethereum Personal or EIP-712).</li> <li><code>RAW</code>: Sign an arbitrary off-chain message (e.g., custom protocols).</li> <li><code>MINT</code>: Increase token supply (Stellar, Ripple, EVM).</li> <li><code>BURN</code>: Reduce token supply (Stellar, Ripple, EVM).</li> </ul> <p>Sources/destinations can be OTAs, vault accounts, pre-whitelisted internal wallets, external/contract wallets, Fireblocks Network connections, or connected exchange/fiat accounts.</p> <p>Optional parameters can be added per asset/operation. Use <code>extraParameters</code> for contract calls, raw signing details, and UTXO selections. See the Optional parameters section below.</p>"},{"location":"digivault_api/#your-first-transaction","title":"Your first transaction","text":""},{"location":"digivault_api/#vault-account-to-vault-account-single-destination-eth","title":"Vault account to vault account (single destination, ETH)","text":"TypeScript (ts-sdk)cURLJavaScript (fireblocks-sdk-js)Python (fireblocks-sdk-py) <pre><code>const transactionPayload = {\n  assetId: \"ETH\",\n  amount: \"0.001\",\n  source: { type: TransferPeerPathType.VaultAccount, id: \"0\" },\n  destination: { type: TransferPeerPathType.VaultAccount, id: \"1\" },\n  note: \"Your first transaction!\",\n};\n\nconst createTransaction = async (transactionPayload: TransactionRequest) =&gt; {\n  try {\n    const res = await fireblocks.transactions.createTransaction({\n      transactionRequest: transactionPayload,\n    });\n    console.log(JSON.stringify(res.data, null, 2));\n    return res.data;\n  } catch (e) {\n    console.error(e);\n  }\n};\n\ncreateTransaction(transactionPayload);\n</code></pre> <pre><code>curl -X POST https://api.fireblocks.io/v1/transactions \\\n  -H \"X-API-Key: &lt;API_KEY&gt;\" \\\n  -H \"Authorization: Bearer &lt;JWT&gt;\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"assetId\": \"ETH\",\n    \"amount\": \"0.001\",\n    \"source\": { \"type\": \"VAULT_ACCOUNT\", \"id\": \"0\" },\n    \"destination\": { \"type\": \"VAULT_ACCOUNT\", \"id\": \"1\" },\n    \"note\": \"Your first transaction!\"\n  }'\n</code></pre> <pre><code>const { FireblocksSDK } = require(\"fireblocks-sdk\");\nconst fs = require(\"fs\");\n\nconst apiKey = \"&lt;API_KEY&gt;\";\nconst secret = fs.readFileSync(\"&lt;PATH_TO_SECRET&gt;\", \"utf8\");\nconst fb = new FireblocksSDK(secret, apiKey);\n\n(async () =&gt; {\n  const tx = await fb.createTransaction({\n    assetId: \"ETH\",\n    amount: \"0.001\",\n    source: { type: \"VAULT_ACCOUNT\", id: \"0\" },\n    destination: { type: \"VAULT_ACCOUNT\", id: \"1\" },\n    note: \"Your first transaction!\",\n  });\n  console.log(tx);\n})();\n</code></pre> <pre><code>from fireblocks_sdk import FireblocksSDK\nfrom pathlib import Path\n\napi_key = \"&lt;API_KEY&gt;\"\nsecret = Path(\"&lt;PATH_TO_SECRET&gt;\").read_text()\nfb = FireblocksSDK(private_key=secret, api_key=api_key)\n\ntx = fb.create_transaction(\n    asset_id=\"ETH\",\n    amount=\"0.001\",\n    source={\"type\": \"VAULT_ACCOUNT\", \"id\": \"0\"},\n    destination={\"type\": \"VAULT_ACCOUNT\", \"id\": \"1\"},\n    note=\"Your first transaction!\",\n)\nprint(tx)\n</code></pre>"},{"location":"digivault_api/#multiple-destination-transfer-utxo-btc","title":"Multiple-destination transfer (UTXO, BTC)","text":"TypeScript (ts-sdk)JavaScript (fireblocks-sdk-js)Python (fireblocks-sdk-py) <pre><code>const transactionPayload = {\n  assetId: \"BTC\",\n  amount: \"0.001\",\n  source: { type: TransferPeerPathType.VaultAccount, id: \"1\" },\n  destinations: [\n    { amount: \"0.0005\", destination: { type: TransferPeerPathType.VaultAccount, id: \"2\" } },\n    { amount: \"0.0005\", destination: { type: TransferPeerPathType.VaultAccount, id: \"3\" } },\n  ],\n  note: \"Your first multiple destination transaction!\",\n};\n\nconst createTransaction = async (transactionPayload: TransactionRequest) =&gt; {\n  try {\n    const res = await fireblocks.transactions.createTransaction({\n      transactionRequest: transactionPayload,\n    });\n    console.log(JSON.stringify(res.data, null, 2));\n    return res.data;\n  } catch (e) {\n    console.error(e);\n  }\n};\ncreateTransaction(transactionPayload);\n</code></pre> <pre><code>const { FireblocksSDK } = require(\"fireblocks-sdk\");\nconst fs = require(\"fs\");\nconst fb = new FireblocksSDK(fs.readFileSync(\"&lt;PATH_TO_SECRET&gt;\", \"utf8\"), \"&lt;API_KEY&gt;\");\n\n(async () =&gt; {\n  const tx = await fb.createTransaction({\n    assetId: \"BTC\",\n    amount: \"0.001\",\n    source: { type: \"VAULT_ACCOUNT\", id: \"1\" },\n    destinations: [\n      { amount: \"0.0005\", destination: { type: \"VAULT_ACCOUNT\", id: \"2\" } },\n      { amount: \"0.0005\", destination: { type: \"VAULT_ACCOUNT\", id: \"3\" } },\n    ],\n    note: \"Your first multiple destination transaction!\",\n  });\n  console.log(tx);\n})();\n</code></pre> <pre><code>from fireblocks_sdk import FireblocksSDK\nfrom pathlib import Path\n\nfb = FireblocksSDK(Path(\"&lt;PATH_TO_SECRET&gt;\").read_text(), \"&lt;API_KEY&gt;\")\ntx = fb.create_transaction(\n    asset_id=\"BTC\",\n    amount=\"0.001\",\n    source={\"type\": \"VAULT_ACCOUNT\", \"id\": \"1\"},\n    destinations=[\n        {\"amount\": \"0.0005\", \"destination\": {\"type\": \"VAULT_ACCOUNT\", \"id\": \"2\"}},\n        {\"amount\": \"0.0005\", \"destination\": {\"type\": \"VAULT_ACCOUNT\", \"id\": \"3\"}},\n    ],\n    note=\"Your first multiple destination transaction!\",\n)\nprint(tx)\n</code></pre>"},{"location":"digivault_api/#vault-account-to-one-time-address-ota-eth","title":"Vault account to one-time address (OTA, ETH)","text":"TypeScript (ts-sdk)JavaScript (fireblocks-sdk-js)Python (fireblocks-sdk-py) <pre><code>const transactionPayload = {\n  assetId: \"ETH\",\n  amount: \"0.001\",\n  source: { type: TransferPeerPathType.VaultAccount, id: \"1\" },\n  destination: {\n    type: TransferPeerPathType.OneTimeAddress,\n    oneTimeAddress: { address: \"0x13277a70e3F48EEAD9C8a8bab12EbEDbC3DB6446\" },\n  },\n  note: \"Your first OTA transaction!\",\n};\n\nconst createTransaction = async (transactionPayload: TransactionRequest) =&gt; {\n  try {\n    const res = await fireblocks.transactions.createTransaction({\n      transactionRequest: transactionPayload,\n    });\n    console.log(JSON.stringify(res.data, null, 2));\n    return res.data;\n  } catch (e) {\n    console.error(e);\n  }\n};\ncreateTransaction(transactionPayload);\n</code></pre> <pre><code>const { FireblocksSDK } = require(\"fireblocks-sdk\");\nconst fs = require(\"fs\");\nconst fb = new FireblocksSDK(fs.readFileSync(\"&lt;PATH_TO_SECRET&gt;\", \"utf8\"), \"&lt;API_KEY&gt;\");\n\n(async () =&gt; {\n  const tx = await fb.createTransaction({\n    assetId: \"ETH\",\n    amount: \"0.001\",\n    source: { type: \"VAULT_ACCOUNT\", id: \"1\" },\n    destination: {\n      type: \"ONE_TIME_ADDRESS\",\n      oneTimeAddress: { address: \"0x13277a70e3F48EEAD9C8a8bab12EbEDbC3DB6446\" },\n    },\n    note: \"Your first OTA transaction!\",\n  });\n  console.log(tx);\n})();\n</code></pre> <pre><code>from fireblocks_sdk import FireblocksSDK\nfrom pathlib import Path\n\nfb = FireblocksSDK(Path(\"&lt;PATH_TO_SECRET&gt;\").read_text(), \"&lt;API_KEY&gt;\")\ntx = fb.create_transaction(\n    asset_id=\"ETH\",\n    amount=\"0.001\",\n    source={\"type\": \"VAULT_ACCOUNT\", \"id\": \"1\"},\n    destination={\n        \"type\": \"ONE_TIME_ADDRESS\",\n        \"oneTimeAddress\": {\"address\": \"0x13277a70e3F48EEAD9C8a8bab12EbEDbC3DB6446\"},\n    },\n    note=\"Your first OTA transaction!\",\n)\nprint(tx)\n</code></pre> <p>API idempotency: use <code>externalTxId</code> to prevent duplicate processing.</p>"},{"location":"digivault_api/#contract-call-transaction-evm","title":"Contract Call Transaction (EVM)","text":"<pre><code>import { readFileSync } from \"fs\";\nimport {\n  Fireblocks,\n  BasePath,\n  TransactionOperation,\n  TransferPeerPathType,\n} from \"@fireblocks/ts-sdk\";\n\nconst fireblocks = new Fireblocks({\n  apiKey: \"&lt;API_KEY&gt;\",\n  basePath: BasePath.US,\n  secretKey: readFileSync(\"&lt;PATH_TO_YOUR_SECRET&gt;\", \"utf8\"),\n});\n\n(async () =&gt; {\n  const contractAddress = \"0x43506849D7C04F9138D1A2050bbF3A0c054402dd\";\n  const contractCallData =\n    \"0x095ea7b3000000000000000000000000d09971d8ed6c6a5e57581e90d593ee5b94e348d4ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\";\n\n  try {\n    const tx = await fireblocks.transactions.createTransaction({\n      transactionRequest: {\n        operation: TransactionOperation.ContractCall,\n        assetId: \"ETH\",\n        source: { type: TransferPeerPathType.VaultAccount, id: \"0\" },\n        destination: {\n          type: TransferPeerPathType.OneTimeAddress,\n          oneTimeAddress: { address: contractAddress },\n        },\n        amount: \"0\",\n        extraParameters: { contractCallData },\n      },\n    });\n    console.log(JSON.stringify(tx, null, 2));\n  } catch (e) {\n    console.log(e);\n  }\n})();\n</code></pre>"},{"location":"digivault_api/#optional-parameters","title":"Optional parameters","text":""},{"location":"digivault_api/#externaltxid","title":"externalTxId","text":"<p>Use a unique <code>externalTxId</code> to ensure idempotency (max 255 chars). Duplicate calls with the same ID are ignored.</p> <pre><code>const transactionPayload = {\n  assetId: \"ETH\",\n  amount: \"0.001\",\n  externalTxId: \"UniqueIdentifier\",\n  source: { type: TransferPeerPathType.VaultAccount, id: \"0\" },\n  destination: { type: TransferPeerPathType.VaultAccount, id: \"1\" },\n  note: \"Your first transaction!\",\n};\n</code></pre>"},{"location":"digivault_api/#treatasgrossamount","title":"treatAsGrossAmount","text":"<p>If <code>true</code>, the network fee is deducted from the requested amount (default <code>false</code>).</p> <pre><code>const transactionPayload = {\n  assetId: \"ETH\",\n  amount: \"0.001\",\n  treatAsGrossAmount: true,\n  source: { type: TransferPeerPathType.VaultAccount, id: \"0\" },\n  destination: { type: TransferPeerPathType.VaultAccount, id: \"1\" },\n  note: \"Your first treat as gross transaction!\",\n};\n</code></pre>"},{"location":"digivault_api/#fee-utxo-per-byte-fee","title":"fee (UTXO per-byte fee)","text":"<pre><code>const transactionPayload = {\n  assetId: \"BTC\",\n  amount: \"0.001\",\n  fee: \"15\", // sat/byte\n  source: { type: TransferPeerPathType.VaultAccount, id: \"0\" },\n  destination: { type: TransferPeerPathType.VaultAccount, id: \"1\" },\n  note: \"Your first high fee transaction!\",\n};\n</code></pre>"},{"location":"digivault_api/#feelevel","title":"feeLevel","text":"<p><code>LOW</code> | <code>MEDIUM</code> (default) | <code>HIGH</code> for Ethereum, Solana, UTXO.</p> <pre><code>const transactionPayload = {\n  assetId: \"ETH\",\n  amount: \"0.001\",\n  feeLevel: TransactionRequestFeeLevelEnum.High,\n  source: { type: TransferPeerPathType.VaultAccount, id: \"0\" },\n  destination: { type: TransferPeerPathType.VaultAccount, id: \"1\" },\n  note: \"Your first high fee level transaction!\",\n};\n</code></pre>"},{"location":"digivault_api/#failonlowfee","title":"failOnLowFee","text":"<p>If <code>true</code>, and the chosen fee level exceeds what is acceptable, the transaction fails to avoid being stuck.</p> <pre><code>const transactionPayload = {\n  assetId: \"ETH\",\n  amount: \"0.001\",\n  failOnLowFee: true,\n  source: { type: TransferPeerPathType.VaultAccount, id: \"0\" },\n  destination: { type: TransferPeerPathType.VaultAccount, id: \"1\" },\n  note: \"Your first failOnLowFee transaction\",\n};\n</code></pre> <p>Reference: Fireblocks Create Transactions</p>"},{"location":"errors/","title":"Errors","text":"<p>In this guide, we will talk about what happens when something goes wrong while you work with the API. Mistakes happen, and mostly they will be yours, not ours. Let's look at some status codes and error types you might encounter.</p> <p>You can tell if your request was successful by checking the status code when receiving an API response. If a response comes back unsuccessful, you can use the error type and error message to figure out what has gone wrong and do some rudimentary debugging (before contacting support).</p>"},{"location":"errors/#status-codes","title":"Status codes","text":"<p>Here is a list of the different categories of status codes returned by the DigiVault API:</p> Status Code Description 2xx A 2xx status code indicates a successful response. 4xx A 4xx status code indicates a client error \u2014 this means something was wrong with your request. 5xx A 5xx status code indicates a server error \u2014 you won't see many of these."},{"location":"errors/#common-status-codes","title":"Common Status Codes","text":"Code Name Description <code>200</code> OK The request was successful. <code>201</code> Created The resource was successfully created. <code>204</code> No Content The request was successful but there is no content to return. <code>400</code> Bad Request The request was malformed or invalid. <code>401</code> Unauthorized Your API key is missing or invalid. <code>403</code> Forbidden You don't have permission to access this resource. <code>404</code> Not Found The requested resource doesn't exist. <code>422</code> Unprocessable Entity The request was well-formed but contains semantic errors. <code>429</code> Too Many Requests You've hit the rate limit. <code>500</code> Internal Server Error Something went wrong on our end. <code>503</code> Service Unavailable We're temporarily offline for maintenance."},{"location":"errors/#error-types","title":"Error types","text":"<p>Whenever a request is unsuccessful, the DigiVault API will return an error response with an error type and message. You can use this information to understand better what has gone wrong and how to fix it.</p>"},{"location":"errors/#error-response-format","title":"Error Response Format","text":"<pre><code>{\n  \"type\": \"api_error\",\n  \"message\": \"The requested resource was not found.\",\n  \"documentation_url\": \"https://api.digivault.com/docs/errors#not_found\"\n}\n</code></pre>"},{"location":"errors/#error-types_1","title":"Error Types","text":"Error Type Description <code>api_error</code> This means that we made an error, which is usually not the case. <code>invalid_request</code> This means that you made an error, which is much more likely. <code>rate_limit_error</code> You've exceeded the rate limit. <code>authentication_error</code> Your API key is invalid or missing. <code>permission_error</code> You don't have permission to perform this action. <code>not_found_error</code> The resource you're looking for doesn't exist. <code>validation_error</code> The data you provided failed validation."},{"location":"errors/#example-error-responses","title":"Example Error Responses","text":""},{"location":"errors/#invalid-request","title":"Invalid Request","text":"<pre><code>{\n  \"type\": \"invalid_request\",\n  \"message\": \"Missing required parameter: 'name'\",\n  \"param\": \"name\",\n  \"documentation_url\": \"https://api.digivault.com/docs/errors#invalid_request\"\n}\n</code></pre>"},{"location":"errors/#authentication-error","title":"Authentication Error","text":"<pre><code>{\n  \"type\": \"authentication_error\",\n  \"message\": \"Invalid API key provided\",\n  \"documentation_url\": \"https://api.digivault.com/docs/errors#authentication_error\"\n}\n</code></pre>"},{"location":"errors/#rate-limit-error","title":"Rate Limit Error","text":"<pre><code>{\n  \"type\": \"rate_limit_error\",\n  \"message\": \"Too many requests. Please slow down.\",\n  \"retry_after\": 60,\n  \"documentation_url\": \"https://api.digivault.com/docs/errors#rate_limit_error\"\n}\n</code></pre>"},{"location":"errors/#validation-error","title":"Validation Error","text":"<pre><code>{\n  \"type\": \"validation_error\",\n  \"message\": \"Validation failed\",\n  \"errors\": {\n    \"email\": [\"The email field must be a valid email address.\"],\n    \"password\": [\"The password must be at least 8 characters.\"]\n  },\n  \"documentation_url\": \"https://api.digivault.com/docs/errors#validation_error\"\n}\n</code></pre>"},{"location":"errors/#handling-errors","title":"Handling Errors","text":"<p>Here are some best practices for handling errors:</p> <p>Error Handling Best Practices</p> <ul> <li>Always check the status code before processing the response</li> <li>Log error messages and types for debugging</li> <li>Implement exponential backoff for rate limit errors</li> <li>Show user-friendly error messages in your application</li> <li>Monitor error rates to catch issues early</li> </ul>"},{"location":"errors/#example-error-handling","title":"Example Error Handling","text":"JavaScriptPython <pre><code>try {\n  const conversation = await client.conversations.retrieve('WAz8eIbvDR60rouK');\n} catch (error) {\n  if (error.status === 404) {\n    console.log('Conversation not found');\n  } else if (error.status === 429) {\n    console.log('Rate limited. Retry after:', error.retry_after);\n    // Implement retry logic\n  } else {\n    console.error('API error:', error.message);\n  }\n}\n</code></pre> <pre><code>from bitvault_sdk import ApiError, RateLimitError, NotFoundError\n\ntry:\n    conversation = client.conversations.retrieve('WAz8eIbvDR60rouK')\nexcept NotFoundError:\n    print('Conversation not found')\nexcept RateLimitError as e:\n    print(f'Rate limited. Retry after: {e.retry_after}')\n    # Implement retry logic\nexcept ApiError as e:\n    print(f'API error: {e.message}')\n</code></pre>"},{"location":"errors/#rate-limiting","title":"Rate Limiting","text":"<p>The DigiVault API uses rate limiting to prevent abuse. You can make:</p> <ul> <li>100 requests per minute for standard API endpoints</li> <li>10 requests per minute for write operations (POST, PUT, DELETE)</li> </ul> <p>Rate limit information is included in response headers:</p> <pre><code>X-RateLimit-Limit: 100\nX-RateLimit-Remaining: 95\nX-RateLimit-Reset: 1609459200\n</code></pre> <p>When you exceed the rate limit, you'll receive a <code>429 Too Many Requests</code> response with a <code>Retry-After</code> header indicating how long to wait before making another request.</p>"},{"location":"groups/","title":"Groups","text":"<p>Groups are where communities live in DigiVault \u2014 they can be anything from a small team to a large public community. On this page, we'll dive into the different group endpoints you can use to manage groups programmatically.</p> <p>Coming Soon</p> <p>This page is being updated with comprehensive API documentation. Groups support the standard CRUD operations.</p>"},{"location":"groups/#the-group-model","title":"The group model","text":"<p>The group model contains information about groups including members, settings, and metadata.</p>"},{"location":"groups/#properties","title":"Properties","text":"Property Type Description <code>id</code> string Unique identifier for the group <code>name</code> string The name of the group <code>description</code> string The description of the group <code>avatar_url</code> string The avatar image URL for the group <code>conversation_id</code> string The associated conversation ID <code>members</code> array An array of group members <code>created_at</code> integer Timestamp of when the group was created"},{"location":"groups/#list-all-groups","title":"List all groups","text":"<p>GET <code>/v1/groups</code></p>"},{"location":"groups/#create-a-group","title":"Create a group","text":"<p>POST <code>/v1/groups</code></p>"},{"location":"groups/#retrieve-a-group","title":"Retrieve a group","text":"<p>GET <code>/v1/groups/:id</code></p>"},{"location":"groups/#update-a-group","title":"Update a group","text":"<p>PUT <code>/v1/groups/:id</code></p>"},{"location":"groups/#delete-a-group","title":"Delete a group","text":"<p>DELETE <code>/v1/groups/:id</code></p>"},{"location":"messages/","title":"Messages","text":"<p>Messages are what conversations are made of in DigiVault \u2014 they are the basic building blocks of your conversations with your DigiVault contacts. On this page, we'll dive into the different message endpoints you can use to manage messages programmatically.</p> <p>Coming Soon</p> <p>This page is being updated with comprehensive API documentation. In the meantime, messages support full CRUD operations similar to other resources.</p>"},{"location":"messages/#the-message-model","title":"The message model","text":"<p>The message model contains all the information about messages sent in conversations.</p>"},{"location":"messages/#properties","title":"Properties","text":"Property Type Description <code>id</code> string Unique identifier for the message <code>conversation_id</code> string The conversation this message belongs to <code>contact</code> object The contact who sent the message <code>message</code> string The message content <code>reactions</code> array An array of reactions to the message <code>attachments</code> array An array of attachments <code>read_at</code> integer Timestamp of when the message was read <code>created_at</code> integer Timestamp of when the message was created <code>updated_at</code> integer Timestamp of when the message was last updated"},{"location":"messages/#example-message-object","title":"Example Message Object","text":"<pre><code>{\n  \"id\": \"SIuAFUNKNKNNyLT\",\n  \"conversation_id\": \"xgQQXg3hrtjh7AvZ\",\n  \"contact\": {\n    \"id\": \"WAz8eIbvDR60rouK\",\n    \"username\": \"FrankMcCallister\",\n    \"phone_number\": \"1-800-759-3000\",\n    \"avatar_url\": \"https://assets.bitvault.com/avatars/frank.jpg\"\n  },\n  \"message\": \"I'm traveling to Barcelona next week, do you have any tips?\",\n  \"reactions\": [],\n  \"attachments\": [],\n  \"read_at\": 705103200,\n  \"created_at\": 692233200,\n  \"updated_at\": 692233200\n}\n</code></pre>"},{"location":"messages/#list-all-messages","title":"List all messages","text":"<p>GET <code>/v1/messages</code></p> <p>Retrieve a paginated list of all messages.</p>"},{"location":"messages/#send-a-message","title":"Send a message","text":"<p>POST <code>/v1/messages</code></p> <p>Send a new message to a conversation.</p>"},{"location":"messages/#retrieve-a-message","title":"Retrieve a message","text":"<p>GET <code>/v1/messages/:id</code></p> <p>Retrieve a specific message by ID.</p>"},{"location":"messages/#update-a-message","title":"Update a message","text":"<p>PUT <code>/v1/messages/:id</code></p> <p>Update message content.</p>"},{"location":"messages/#delete-a-message","title":"Delete a message","text":"<p>DELETE <code>/v1/messages/:id</code></p> <p>Delete a message permanently.</p>"},{"location":"pagination/","title":"Pagination","text":"<p>In this guide, we will look at how to work with paginated responses when querying the DigiVault API. By default, all responses limit results to 10 items. However, you can go as high as 100 by adding a limit parameter to your requests.</p> <p>When an API response returns a list of objects, no matter the amount, pagination is supported. In paginated responses, objects are nested in a <code>data</code> attribute and have a <code>has_more</code> attribute that indicates whether you have reached the end of the last page. You can use the <code>starting_after</code> and <code>ending_before</code> query parameters to browse pages.</p>"},{"location":"pagination/#example-using-cursors","title":"Example using cursors","text":"<p>In this example, we request the page that starts after the conversation with id <code>s4WycXedwhQrEFuM</code>. As a result, we get a list of three conversations and can tell by the <code>has_more</code> attribute that we have reached the end of the resultset.</p> cURLJavaScriptPythonPHP <pre><code>curl -G https://api.digivault.com/v1/conversations \\\n  -H \"Authorization: Bearer {token}\" \\\n  -d starting_after=\"s4WycXedwhQrEFuM\" \\\n  -d limit=10\n</code></pre> <pre><code>const client = new ApiClient(token)\n\nawait client.conversations.list({\n  starting_after: 's4WycXedwhQrEFuM',\n  limit: 10\n})\n</code></pre> <pre><code>client = ApiClient(token)\n\nclient.conversations.list(\n  starting_after='s4WycXedwhQrEFuM',\n  limit=10\n)\n</code></pre> <pre><code>$client = new \\DigiVault\\ApiClient($token);\n\n$client-&gt;conversations-&gt;list([\n  'starting_after' =&gt; 's4WycXedwhQrEFuM',\n  'limit' =&gt; 10\n]);\n</code></pre>"},{"location":"pagination/#response","title":"Response","text":"<pre><code>{\n  \"has_more\": false,\n  \"data\": [\n    {\n      \"id\": \"WAz8eIbvDR60rouK\",\n      \"contact_id\": \"WAz8eIbvDR60rouK\",\n      \"group_id\": null,\n      \"last_active_at\": 705103200,\n      \"last_opened_at\": 705103200,\n      \"created_at\": 692233200,\n      \"archived_at\": null\n    },\n    {\n      \"id\": \"hSIhXBhNe8X1d8Et\",\n      // ...\n    },\n    {\n      \"id\": \"fbwYwpi9C2ybt6Yb\",\n      // ...\n    }\n  ]\n}\n</code></pre>"},{"location":"pagination/#pagination-parameters","title":"Pagination Parameters","text":"<p>All list endpoints support the following pagination parameters:</p> Parameter Type Description <code>limit</code> integer A limit on the number of objects to be returned. Limit can range between 1 and 100, and the default is 10. <code>starting_after</code> string A cursor for use in pagination. <code>starting_after</code> is an object ID that defines your place in the list. <code>ending_before</code> string A cursor for use in pagination. <code>ending_before</code> is an object ID that defines your place in the list. <p>Best Practices</p> <ul> <li>Use reasonable page sizes (10-50 items) for optimal performance</li> <li>Cache pagination responses when possible</li> <li>Handle the <code>has_more</code> flag to know when to stop fetching</li> <li>Use <code>starting_after</code> for forward pagination</li> <li>Use <code>ending_before</code> for backward pagination</li> </ul>"},{"location":"pagination/#iterating-through-pages","title":"Iterating Through Pages","text":"<p>Here's an example of how to iterate through all pages:</p> JavaScriptPython <pre><code>async function getAllConversations() {\n  const allConversations = [];\n  let hasMore = true;\n  let startingAfter = null;\n\n  while (hasMore) {\n    const response = await client.conversations.list({\n      limit: 100,\n      starting_after: startingAfter\n    });\n\n    allConversations.push(...response.data);\n    hasMore = response.has_more;\n\n    if (hasMore) {\n      startingAfter = response.data[response.data.length - 1].id;\n    }\n  }\n\n  return allConversations;\n}\n</code></pre> <pre><code>def get_all_conversations():\n    all_conversations = []\n    has_more = True\n    starting_after = None\n\n    while has_more:\n        response = client.conversations.list(\n            limit=100,\n            starting_after=starting_after\n        )\n\n        all_conversations.extend(response['data'])\n        has_more = response['has_more']\n\n        if has_more:\n            starting_after = response['data'][-1]['id']\n\n    return all_conversations\n</code></pre>"},{"location":"quickstart/","title":"Quickstart","text":"<p>This guide will get you all set up and ready to use the DigiVault API. We'll cover how to get started using one of our API clients and how to make your first API request. We'll also look at where to go next to find all the information you need to take full advantage of our powerful REST API.</p> <p>Before you begin</p> <p>Before you can make requests to the DigiVault API, you will need to grab your API key from your dashboard. You find it under Settings \u2192 API.</p>"},{"location":"quickstart/#choose-your-client","title":"Choose your client","text":"<p>Before making your first API request, you need to pick which API client you will use. In addition to good ol' cURL HTTP requests, DigiVault offers clients for JavaScript, Python, and PHP. In the following example, you can see how to install each client.</p> cURLJavaScriptPythonPHP <pre><code># cURL is most likely already installed on your machine\ncurl --version\n</code></pre> <pre><code># Install the DigiVault JavaScript SDK\nnpm install @digivault/sdk --save\n</code></pre> <pre><code># Install the DigiVault Python SDK\npip install digivault-sdk\n</code></pre> <pre><code># Install the DigiVault PHP SDK\ncomposer require digivault/sdk\n</code></pre> <p>Check out our list of first-party SDKs</p>"},{"location":"quickstart/#making-your-first-api-request","title":"Making your first API request","text":"<p>After picking your preferred client, you are ready to make your first call to the DigiVault API. Below, you can see how to send a GET request to the Conversations endpoint to get a list of all your conversations. In the cURL example, results are limited to ten conversations, the default page length for each client.</p> cURLJavaScriptPythonPHP <pre><code>curl -G https://api.digivault.com/v1/conversations \\\n  -H \"Authorization: Bearer {token}\" \\\n  -d limit=10\n</code></pre> <pre><code>import ApiClient from '@digivault/sdk'\n\nconst client = new ApiClient(token)\n\nawait client.conversations.list()\n</code></pre> <pre><code>from digivault_sdk import ApiClient\n\nclient = ApiClient(token)\n\nclient.conversations.list()\n</code></pre> <pre><code>$client = new \\DigiVault\\ApiClient($token);\n\n$client-&gt;conversations-&gt;list();\n</code></pre> <p>Read the docs for the Conversations endpoint</p>"},{"location":"quickstart/#whats-next","title":"What's next?","text":"<p>Great, you're now set up with an API client and have made your first request to the API. Here are a few links that might be handy as you venture further into the DigiVault API:</p> <ul> <li>Grab your API key from the DigiVault dashboard</li> <li>Check out the Conversations endpoint</li> <li>Learn about the different error messages in DigiVault</li> </ul>"},{"location":"sdks/","title":"SDKs","text":"<p>DigiVault provides official SDKs for popular programming languages to make integration seamless and efficient. Choose your preferred language and get started quickly.</p>"},{"location":"sdks/#official-libraries","title":"Official libraries","text":"<p>Our official SDKs are designed to provide a consistent developer experience across different programming languages while following each language's best practices and conventions.</p>"},{"location":"sdks/#javascript--typescript","title":"JavaScript / TypeScript","text":"<p>The DigiVault JavaScript SDK works in both Node.js and browser environments.</p> <pre><code>npm install @digivault/sdk --save\n</code></pre> <pre><code>import { DigiVaultClient } from '@digivault/sdk';\n\nconst client = new DigiVaultClient({\n  apiKey: 'your-api-key'\n});\n\n// Make requests\nconst conversations = await client.conversations.list();\n</code></pre> <p> View JavaScript SDK Documentation</p>"},{"location":"sdks/#python","title":"Python","text":"<p>The DigiVault Python SDK supports Python 3.7 and above.</p> <pre><code>pip install digivault-sdk\n</code></pre> <pre><code>from digivault_sdk import Client\n\nclient = Client(api_key='your-api-key')\n\n# Make requests\nconversations = client.conversations.list()\n</code></pre> <p> View Python SDK Documentation</p>"},{"location":"sdks/#php","title":"PHP","text":"<p>The DigiVault PHP SDK requires PHP 7.4 or higher.</p> <pre><code>composer require digivault/sdk\n</code></pre> <pre><code>&lt;?php\n\nuse DigiVault\\Client;\n\n$client = new Client([\n    'api_key' =&gt; 'your-api-key'\n]);\n\n// Make requests\n$conversations = $client-&gt;conversations-&gt;list();\n</code></pre> <p> View PHP SDK Documentation</p>"},{"location":"sdks/#ruby","title":"Ruby","text":"<p>The DigiVault Ruby SDK requires Ruby 2.7 or higher.</p> <pre><code>gem install digivault-sdk\n</code></pre> <pre><code>require 'digivault'\n\nclient = DigiVault::Client.new(api_key: 'your-api-key')\n\n# Make requests\nconversations = client.conversations.list\n</code></pre> <p> View Ruby SDK Documentation</p>"},{"location":"sdks/#go","title":"Go","text":"<p>The DigiVault Go SDK requires Go 1.18 or higher.</p> <pre><code>go get github.com/digivault/sdk-go\n</code></pre> <pre><code>package main\n\nimport (\n    \"github.com/digivault/sdk-go\"\n)\n\nfunc main() {\n    client := digivault.NewClient(\"your-api-key\")\n\n    // Make requests\n    conversations, err := client.Conversations.List()\n}\n</code></pre> <p> View Go SDK Documentation</p>"},{"location":"sdks/#community-sdks","title":"Community SDKs","text":"<p>In addition to our official SDKs, the community has created SDKs for other languages. While we don't officially maintain these, they may be helpful:</p> <ul> <li>Rust: digivault-rs</li> <li>Java: digivault-java</li> <li>.NET: DigiVault.NET</li> </ul> <p>Contributing</p> <p>If you've built an SDK for DigiVault in another language, please let us know so we can add it to this list!</p>"},{"location":"sdks/#sdk-features","title":"SDK Features","text":"<p>All official DigiVault SDKs include:</p> <ul> <li>\u2705 Full API coverage</li> <li>\u2705 Type-safe responses</li> <li>\u2705 Automatic retry logic</li> <li>\u2705 Built-in rate limiting</li> <li>\u2705 Webhook signature verification</li> <li>\u2705 Comprehensive error handling</li> <li>\u2705 Detailed documentation</li> <li>\u2705 Regular updates and maintenance</li> </ul>"},{"location":"sdks/#getting-help","title":"Getting Help","text":"<p>If you need help with any of our SDKs:</p> <ol> <li>Check the SDK-specific documentation</li> <li>Browse our API Reference</li> <li>Join our Discord community</li> <li>Open an issue on GitHub</li> </ol>"},{"location":"webhooks/","title":"Webhooks","text":"<p>In this guide, we will look at how to register and consume webhooks to integrate your app with DigiVault. With webhooks, your app can know when something happens in DigiVault, such as someone sending a message or adding a contact.</p>"},{"location":"webhooks/#registering-webhooks","title":"Registering webhooks","text":"<p>To register a new webhook, you need to have a URL in your app that DigiVault can call. You can configure a new webhook from the DigiVault dashboard under API settings. Give your webhook a name, pick the events you want to listen for, and add your URL.</p> <p>Now, whenever something of interest happens in your app, a webhook is fired off by DigiVault. In the next section, we'll look at how to consume webhooks.</p>"},{"location":"webhooks/#webhook-configuration","title":"Webhook Configuration","text":"<p>When creating a webhook, you'll need to specify:</p> Field Description Name A descriptive name for your webhook URL The endpoint URL where DigiVault will send webhook events Events The types of events you want to receive Secret A secret key used to verify webhook signatures (auto-generated) Active Whether the webhook is currently active <p>Testing Webhooks Locally</p> <p>Use tools like ngrok to create a public URL that tunnels to your local development server for testing webhooks.</p>"},{"location":"webhooks/#consuming-webhooks","title":"Consuming webhooks","text":"<p>When your app receives a webhook request from DigiVault, check the webhook signature to verify that the request is indeed from DigiVault. You can find the signature in the request header. The signature is a hash of the request payload signed with your webhook secret.</p>"},{"location":"webhooks/#webhook-payload","title":"Webhook Payload","text":"<p>All webhook payloads follow this structure:</p> <pre><code>{\n  \"id\": \"webhook_1234567890\",\n  \"type\": \"conversation.message.created\",\n  \"created_at\": 1640995200,\n  \"data\": {\n    \"object\": {\n      \"id\": \"xgQQXg3hrtjh7AvZ\",\n      \"conversation_id\": \"WAz8eIbvDR60rouK\",\n      \"contact\": {\n        \"id\": \"WAz8eIbvDR60rouK\",\n        \"username\": \"FrankMcCallister\",\n        \"name\": \"Frank McCallister\",\n        \"avatar_url\": \"https://assets.digivault.com/avatars/frank.jpg\"\n      },\n      \"message\": \"Hello, world!\",\n      \"created_at\": 1640995200\n    }\n  }\n}\n</code></pre>"},{"location":"webhooks/#verifying-webhook-signatures","title":"Verifying Webhook Signatures","text":"Node.jsPythonPHP <pre><code>import crypto from 'crypto';\n\nfunction verifyWebhookSignature(payload, signature, secret) {\n  const expectedSignature = crypto\n    .createHmac('sha256', secret)\n    .update(JSON.stringify(payload))\n    .digest('hex');\n\n  return crypto.timingSafeEqual(\n    Buffer.from(signature),\n    Buffer.from(expectedSignature)\n  );\n}\n\n// Express.js example\napp.post('/webhooks', (req, res) =&gt; {\n  const signature = req.headers['x-bitvault-signature'];\n\n  if (!verifyWebhookSignature(req.body, signature, process.env.WEBHOOK_SECRET)) {\n    return res.status(401).send('Invalid signature');\n  }\n\n  // Process webhook\n  const event = req.body;\n  console.log('Received event:', event.type);\n\n  res.sendStatus(200);\n});\n</code></pre> <pre><code>import hmac\nimport hashlib\nfrom flask import Flask, request, jsonify\n\ndef verify_webhook_signature(payload, signature, secret):\n    expected_signature = hmac.new(\n        secret.encode('utf-8'),\n        payload.encode('utf-8'),\n        hashlib.sha256\n    ).hexdigest()\n\n    return hmac.compare_digest(signature, expected_signature)\n\napp = Flask(__name__)\n\n@app.route('/webhooks', methods=['POST'])\ndef handle_webhook():\n    signature = request.headers.get('X-DigiVault-Signature')\n    payload = request.get_data(as_text=True)\n\n    if not verify_webhook_signature(payload, signature, os.environ['WEBHOOK_SECRET']):\n        return jsonify({'error': 'Invalid signature'}), 401\n\n    # Process webhook\n    event = request.get_json()\n    print(f\"Received event: {event['type']}\")\n\n    return '', 200\n</code></pre> <pre><code>&lt;?php\n\nfunction verifyWebhookSignature($payload, $signature, $secret) {\n    $expectedSignature = hash_hmac('sha256', $payload, $secret);\n    return hash_equals($signature, $expectedSignature);\n}\n\n$payload = file_get_contents('php://input');\n$signature = $_SERVER['HTTP_X_BITVAULT_SIGNATURE'];\n$secret = getenv('WEBHOOK_SECRET');\n\nif (!verifyWebhookSignature($payload, $signature, $secret)) {\n    http_response_code(401);\n    exit('Invalid signature');\n}\n\n$event = json_decode($payload, true);\nerror_log('Received event: ' . $event['type']);\n\nhttp_response_code(200);\n</code></pre>"},{"location":"webhooks/#event-types","title":"Event types","text":"<p>DigiVault supports the following webhook events:</p>"},{"location":"webhooks/#conversation-events","title":"Conversation Events","text":"Event Type Description <code>conversation.created</code> A new conversation was created <code>conversation.updated</code> A conversation was updated <code>conversation.archived</code> A conversation was archived <code>conversation.deleted</code> A conversation was deleted"},{"location":"webhooks/#message-events","title":"Message Events","text":"Event Type Description <code>conversation.message.created</code> A new message was sent in a conversation <code>conversation.message.updated</code> A message was edited <code>conversation.message.deleted</code> A message was deleted <code>conversation.message.read</code> A message was read"},{"location":"webhooks/#contact-events","title":"Contact Events","text":"Event Type Description <code>contact.created</code> A new contact was created <code>contact.updated</code> A contact was updated <code>contact.deleted</code> A contact was deleted"},{"location":"webhooks/#group-events","title":"Group Events","text":"Event Type Description <code>group.created</code> A new group was created <code>group.updated</code> A group was updated <code>group.member_added</code> A member was added to a group <code>group.member_removed</code> A member was removed from a group <code>group.deleted</code> A group was deleted"},{"location":"webhooks/#security","title":"Security","text":"<p>When using webhooks, security is crucial. Here are some best practices:</p> <p>Security Best Practices</p> <ul> <li>Always verify signatures - Never trust incoming webhook requests without verifying the signature</li> <li>Use HTTPS - Only use HTTPS URLs for your webhook endpoints</li> <li>Keep secrets secure - Store webhook secrets in environment variables, never in code</li> <li>Implement rate limiting - Protect your webhook endpoint from being overwhelmed</li> <li>Validate event data - Don't trust incoming data; validate it before processing</li> <li>Use idempotency - Handle duplicate webhooks gracefully using event IDs</li> </ul>"},{"location":"webhooks/#handling-duplicate-events","title":"Handling Duplicate Events","text":"<p>DigiVault may send the same webhook event more than once. Use the <code>id</code> field to implement idempotency:</p> <pre><code>const processedEvents = new Set();\n\napp.post('/webhooks', (req, res) =&gt; {\n  const event = req.body;\n\n  // Check if we've already processed this event\n  if (processedEvents.has(event.id)) {\n    return res.sendStatus(200);\n  }\n\n  // Process event\n  processEvent(event);\n\n  // Mark as processed\n  processedEvents.add(event.id);\n\n  res.sendStatus(200);\n});\n</code></pre>"},{"location":"webhooks/#testing-webhooks","title":"Testing Webhooks","text":"<p>You can test your webhook integration using the DigiVault dashboard. Navigate to your webhook settings and click \"Send test webhook\" to send a sample event to your endpoint.</p>"},{"location":"webhooks/#example-test-event","title":"Example Test Event","text":"<pre><code>{\n  \"id\": \"webhook_test_123\",\n  \"type\": \"conversation.message.created\",\n  \"created_at\": 1640995200,\n  \"data\": {\n    \"object\": {\n      \"id\": \"test_message_id\",\n      \"conversation_id\": \"test_conversation_id\",\n      \"message\": \"This is a test message\",\n      \"created_at\": 1640995200\n    }\n  }\n}\n</code></pre>"},{"location":"webhooks/#webhook-retry-logic","title":"Webhook Retry Logic","text":"<p>If your webhook endpoint returns an error (non-2xx status code) or fails to respond within 30 seconds, DigiVault will retry the webhook with exponential backoff:</p> <ul> <li>1<sup>st</sup> retry: after 1 minute</li> <li>2<sup>nd</sup> retry: after 5 minutes</li> <li>3<sup>rd</sup> retry: after 15 minutes</li> <li>4<sup>th</sup> retry: after 1 hour</li> <li>5<sup>th</sup> retry: after 6 hours</li> </ul> <p>After 5 failed attempts, the webhook will be marked as failed and you'll receive an email notification.</p> <p>Monitoring Webhooks</p> <p>You can monitor webhook delivery status and view logs in the DigiVault dashboard under API settings \u2192 Webhooks.</p>"}]}